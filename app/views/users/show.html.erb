<h1><%= @user.first %> <%= @user.last %></h1>
<table class="table-condensed">
  <tr>
    <th>Username</th>
    <td><%= @user.username %></td>
  </tr>
  <tr>
    <th>First Name</th>
    <td><%= @user.first %></td>
  </tr>
  <tr>
    <th>Last Name</th>
    <td><%= @user.last %></td>
  </tr>
  <tr>
    <td></td>
    <td><%= link_to 'Edit User Info', edit_user_path(@user), class: 'btn btn-primary' %></td>
  </tr>
</table>

<h2>Add a time:</h2>
<%= form_for([@user, @user.durations.build]) do |f| %>
<table class="table-condensed">
  <tr>
    <th><%= f.label :day %></th>
    <td><%= f.date_field :day, value: Time.now.strftime('%Y-%m-%d') %></td>

  </tr>
  <tr>
    <th><%= f.label :minutes %></th>
    <td><%= f.number_field :minutes %></td>
  </tr>
  <tr>
    <td></td>
    <td>
      <%= f.submit 'Save', class: 'btn btn-primary' %>
    </td>
  </tr>
</table>
<% end %>


<h2>Walk Times</h2>
<table class="table-striped table-condensed">
  <tr>
    <th>Day</th>
    <th>Minutes</th>
    <th></th>
  </tr>
  <% @user.durations.reject { |duration| duration.day.nil? }.sort_by {|duration| duration.day}.each do |duration| %>

    <tr>
      <td>
        <%= duration.day.strftime('%m/%d/%Y') %>
      </td>
      
      <td>
        &nbsp;<%= duration.minutes %>
      </td>
      <td>
	<%= link_to 'Delete', [duration.user, duration],
            method: :delete,
            data: { confirm: 'Are you sure?' } %>
      </td>
    </tr>
  <% end %>
</table>

<p>
  <%= link_to 'View All Users', users_path %>
</p>
